<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Homepage</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="data:;base64,=">
</head>
<body>

  <!-- Menù -->
  <nav>
    <div class="dropdown">
      <button class="dropdown-button">Menù</button>
      <div class="dropdown-content">
        <a href="#" id="loginMenuItem">Login</a>
      </div>
    </div>
  </nav>

  <!-- Modal Login -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <form id="loginForm">
        <label for="username">Username</label>
        <input type="text" id="username" name="username" required>
        <label for="password">Password</label>
        <input type="password" id="password" name="password" required>
        <button type="submit">Login</button>
      </form>
    </div>
  </div>

  <!-- Calendario -->
  <div class="calendar-container">
    <div class="calendar-nav">
      <button id="prevMonth">&lt;</button>
      <span id="monthYear"></span>
      <button id="nextMonth">&gt;</button>
    </div>
    <table class="calendar">
      <thead>
        <tr>
          <th><span class="day-number"></span>Lunedì</th>
          <th><span class="day-number"></span>Martedì</th>
          <th><span class="day-number"></span>Mercoledì</th>
          <th><span class="day-number"></span>Giovedì</th>
          <th><span class="day-number"></span>Venerdì</th>
          <th><span class="day-number"></span>Sabato</th>
          <th><span class="day-number"></span>Domenica</th>
        </tr>
      </thead>
      <tbody id="calendarBody">
        <!-- giorni generati via JS -->
      </tbody>
    </table>
  </div>

  <!-- Script Inline -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Dropdown Menù
      const menuBtn     = document.querySelector('.dropdown-button');
      const menuContent = document.querySelector('.dropdown-content');
      if (menuBtn && menuContent) {
        menuBtn.addEventListener('click', e => {
          e.stopPropagation();
          menuContent.style.display =
            menuContent.style.display === 'block' ? 'none' : 'block';
        });
        document.addEventListener('click', e => {
          if (!menuBtn.contains(e.target)) {
            menuContent.style.display = 'none';
          }
        });
      }

      // Login Modal
      const loginMenuItem = document.getElementById('loginMenuItem');
      const loginModal    = document.getElementById('loginModal');
      if (loginMenuItem && loginModal) {
        loginMenuItem.addEventListener('click', e => {
          e.preventDefault();
          loginModal.style.display = 'flex';
        });
        window.addEventListener('click', e => {
          if (e.target === loginModal) {
            loginModal.style.display = 'none';
          }
        });
      }

      // Submit Login con Enter e click
      const loginForm = document.getElementById('loginForm');
      if (loginForm) {
        loginForm.addEventListener('submit', async e => {
          e.preventDefault();
          // TODO: qui autenticazione Firebase
        });
      }

      // Navigazione mesi calendario
      const prevBtn = document.getElementById('prevMonth');
      const nextBtn = document.getElementById('nextMonth');
      if (prevBtn) prevBtn.addEventListener('click', () => {
        // TODO: mese precedente
      });
      if (nextBtn) nextBtn.addEventListener('click', () => {
        // TODO: mese successivo
      });
    });
  </script>

</body>
</html>
